{% extends 'main_app/base.html' %}
{% load static %}
{% block title %}Update Car Page{% endblock %}
{% block content %}

<div class="container mx-auto my-8">
    <h1 class="text-3xl font-bold mb-4">Update Car: {{ car.name }}</h1>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
                <label for="name" class="block text-sm font-medium text-gray-700">Car Name</label>
                <input type="text" name="name" id="name" value="{{ car.name }}" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200" required>
            </div>
            <div>
                <label for="brand" class="block text-sm font-medium text-gray-700">Brand</label>
                <select name="brand" id="brand" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200" required>
                    {% for brand in brands %}
                        <option value="{{ brand.id }}" {% if brand.id == car.brand.id %}selected{% endif %}>{{ brand.name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div>
                <label for="colors" class="block text-sm font-medium text-gray-700">Colors</label>
                <select name="colors" id="colors" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200" multiple required>
                    {% for color in colors %}
                        <option value="{{ color.id }}" {% if color in car.colors.all %}selected{% endif %}>{{ color.name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div>
                <label for="photo" class="block text-sm font-medium text-gray-700">Car Photo</label>
                <input type="file" name="photo" id="photo" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200">
            </div>
            <div>
                <label for="specs" class="block text-sm font-medium text-gray-700">Specifications</label>
                <textarea name="specs" id="specs" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200">{{ car.specs }}</textarea>
            </div>
            <div>
                <label for="model" class="block text-sm font-medium text-gray-700">Model</label>
                <input type="text" name="model" id="model" value="{{ car.model }}" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200" required>
            </div>
        </div>
        <button type="submit" class="mt-4 w-full py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">Update Car</button>
    </form>
</div>
{% endblock %}
